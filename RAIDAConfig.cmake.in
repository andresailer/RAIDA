###############################################
# cmake configuration file for RAIDA
# @author Jan Engels, DESY
###############################################

SET( RAIDA_FOUND FALSE )
MARK_AS_ADVANCED( RAIDA_FOUND )

# do not store find results in cache
SET( RAIDA_INCLUDE_DIR RAIDA_INCLUDE_DIR-NOTFOUND )

FIND_PATH( RAIDA_INCLUDE_DIR
	NAMES AIDA/AIDA.h
	PATHS @CMAKE_INSTALL_PREFIX@
	PATH_SUFFIXES include
	NO_DEFAULT_PATH
)
IF( NOT RAIDA_INCLUDE_DIR )
    MESSAGE( STATUS "Check for RAIDA: ${RAIDA_HOME}"
					" -- failed to find RAIDA include directory!!" )
ELSE( NOT RAIDA_INCLUDE_DIR )
    MARK_AS_ADVANCED( RAIDA_INCLUDE_DIR )
ENDIF( NOT RAIDA_INCLUDE_DIR )


# do not store find results in cache
SET( RAIDA_LIB RAIDA_LIB-NOTFOUND )

FIND_LIBRARY( RAIDA_LIB
	NAMES RAIDA
	PATHS @CMAKE_INSTALL_PREFIX@
	PATH_SUFFIXES lib
	NO_DEFAULT_PATH
)
IF( NOT RAIDA_LIB )
    MESSAGE( STATUS "Check for RAIDA: ${RAIDA_HOME}"
					" -- failed to find RAIDA library!!" )
ELSE( NOT RAIDA_LIB )
    MARK_AS_ADVANCED( RAIDA_LIB )
ENDIF( NOT RAIDA_LIB )


# set variables and display results
IF( RAIDA_INCLUDE_DIR AND RAIDA_LIB )
    SET( RAIDA_FOUND TRUE )
    SET( RAIDA_INCLUDE_DIRS ${RAIDA_INCLUDE_DIR} )
    SET( RAIDA_LIBRARY_DIRS "@CMAKE_INSTALL_PREFIX@/lib" )
	SET( RAIDA_LIBRARIES ${RAIDA_LIB} )
	SET( RAIDA_DEFINITIONS "-DUSE_AIDA -DMARLIN_USE_AIDA -DUSE_RAIDA" )
    MARK_AS_ADVANCED( RAIDA_INCLUDE_DIRS RAIDA_LIBRARY_DIRS )
    MARK_AS_ADVANCED( RAIDA_LIBRARIES RAIDA_DEFINITIONS )
	MESSAGE( STATUS "Check for RAIDA: ${RAIDA_HOME} -- works" )
ELSE( RAIDA_INCLUDE_DIR AND RAIDA_LIB )
	IF( RAIDA_FIND_REQUIRED )
		MESSAGE( FATAL_ERROR "Check for RAIDA: ${RAIDA_HOME} -- failed!!" )
    ELSE( RAIDA_FIND_REQUIRED )
        MESSAGE( STATUS "Check for RAIDA: ${RAIDA_HOME}"
						" -- failed!! will skip this package..." )
    ENDIF( RAIDA_FIND_REQUIRED )
ENDIF( RAIDA_INCLUDE_DIR AND RAIDA_LIB )
